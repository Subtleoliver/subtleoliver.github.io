<!doctype html>
<html lang="en">

<head>
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  
  <meta charset="utf-8">
  <title>DodgerV2 Part 2: "Techstack"</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="icon" href="/assets/images/BunnyDark.jpg">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro" rel="stylesheet">

  <!-- Twitter stuff -->
  <meta property="og:site_name" content="TheGrimsey">
  <meta property="og:title" content="DodgerV2 Part 2: "Techstack"">
  <meta property="og:type" content="article">
  <meta property="article:publisher" content="https://TheGrimsey.net">
  <meta property="article:author" content="Grim">
  <meta property="article:section" content="">
  <meta property="article:published_time" content="2019-11-21 00:00:00 +0100">
  <meta property="article:modified_time" content="2019-11-21 00:00:00 +0100">
  <meta property="og:description" content="<p>In the last post I spoke briefly about the vision I have for the game as well as what Dodger “Classic” was. Today we are going to talk about the tech that will actually drive the gameplay.</p>
">
  <meta property="og:url" content="https://www.thegrimsey.net">
  <meta property="og:locale" content="en_US">
  <meta property="og:website" content="https://wwww.thegrimsey.net">

</head>

<body>
  <h1 class="Title">The Grim Chronicle</h1>

  <nav>  
    
        <a href="/">
            <f >Home</f>
        </a>
    
        <a href="/games.html">
            <f >Games</f>
        </a>
    
        <a href="/about.html">
            <f >About</f>
        </a>
    
</nav>
  <div class="Main">
    <h1>DodgerV2 Part 2: "Techstack"</h1>
<p>In the last post I spoke briefly about the vision I have for the game as well as what Dodger “Classic” was. Today we are going to talk about the tech that will actually drive the gameplay.</p>

<p><a href="https://unity.com/">Unity2D</a>, one of the more well known “free” game engines.</p>

<h3 id="so-why-am-i-going-with-unity">So why am I going with Unity?</h3>
<ol>
  <li>Unity handles 2D really well compared to Unreal Engine 4 (my usual engine of choice).</li>
  <li>Dodger Classic was made in Unity and I want to see how much better I can make it now with a few more years of programming and game development knowledge.</li>
  <li>Unity has had a lot of updates since I last used it for a serious project and they have added some very interesting stuff since then that I <em>really</em> want to use.</li>
</ol>

<h3 id="what-interesting-stuff-has-unity-added-exactly">What interesting stuff has Unity added exactly?</h3>
<p>What I am primarily interested is <strong>DOTS</strong> (“Data Oriented Technology Stack”) which is a more data driven way to of handling logic. I will talk about this more later on in this post.</p>

<p>The other thing I am interested in is their new Input System (which reminds me a lot of how Unreal Engine handles input) and from what I have seen so far it seems quite good and I want to test it out. I am not sure how much I will actually get to use it though since <em>DodgerV2</em> is first and foremost a <em>mobile game</em>. Hopefully it will be useful for the eventual PC implementation though.</p>

<h4 id="what-is-dots">What is DOTS?</h4>
<p>The Data Oriented Technology Stack (DOTS) is Unity’s ECS implementation. ECS (Entity Component System) is a more CPU-Cache friendly way of handling logic and data. I am in no way an expert on ECS but I will try to explain how it works and why it is faster as best I can.</p>

<p>Instead of GameObjects you have entities which hold Components. Components hold data. Systems hold logic. If we for example want to rotate a lot of cubes in the world the usual way of doing it in Unity is having a MonoBehaviour like this and placing it on all those objects:</p>

<p><img src="/assets/images/DodgerV2/Part2/RotateConstantlyMonobehaviour.JPG/" alt="RotateConstantlyComponent Monobehaviour" class="PostImage" /></p>

<p>The problem with this is that there is no guarantee that every object with this MonoBehaviour will update after each other so the instructions might be kicked out of the CPU’s instruction cache and then it has to get it from the RAM or slower cache. Getting it from a slower cache or RAM is terrible for performance, we just waste cycles waiting for it. What if instead we could just do all of this logic for everything that needs it at the same time? Then we wouldn’t have to wait and that is what ECS is good for.</p>

<p>The example I am going to show now is a hybrid ECS approach where data is in MonoBehaviours. It does the exact same thing though and will in theory perform much better at higher amounts of objects. Not to mention that ECS in Unity can be run in parallel which means we can use multiple cores to our advantage (In <em>DodgerV2</em> this would allows us to process both Asteroid and Bullet movement at the same time in 2 threads).</p>

<div class="ImageFlexBox">
    <img src="/assets/images/DodgerV2/Part2/RotateConstantlyComponent.JPG" alt="RotateConstantlyComponent (DOTS Data)" class="SmallPostImage" />
    <img src="/assets/images/DodgerV2/Part2/RotateConstantlySystem.JPG" alt="RotateConstantlySystem (DOTS Logic)" class="SmallPostImage" />
</div>

<h4 id="use-in-dodgerv2">Use in DodgerV2</h4>
<p>For <em>DodgerV2</em> I will be using the Hybrid ECS that I showed above approach because I need collision and that isn’t implemented in ECS yet. If that were to be implemented it would be perfect for this project but I am not going to work on that or wait for it.</p>

<p>I will have 2 Entity types:</p>
<ol>
  <li>Bullets</li>
  <li>Asteroids</li>
</ol>

<p>Because both of those entities only move forward we only need one system for them the <strong><em>ForwardMovementSystem</em></strong>. It will just move the entities forward based on their speed.</p>

<p>For the speed we need a component, we’ll just call this the <strong><em>MovementComponent</em></strong> and all it will just hold a float <em>Speed</em>.</p>

<p>And that is pretty much the whole implementation of ECS I will be using. Pretty simple.</p>

<p><img src="/assets/images/DodgerV2/Part2/EntityComponentSystem.JPG" alt="Entity Component System relation Diagram" class="PostImage" /></p>

<p>And this was all I wanted to cover in this post. The next post will be the first more journal like one so it might be quite different but it will be talking about market research.</p>
<h3 id="click-here-to-go-to-the-next-post-part-3-market-research--journaling">Click here to go to the next post: <a href="/2019/12/05/DodgerV2Part3.html">Part 3: “Market research &amp; Journaling”</a>.</h3>

<p style="text-align: center;">Written 21 Nov 2019 by Grim</p>
  </div>

  <div class="Footer">
    <p>
            <a href="https://www.twitter.com/TheGrimsey" title="Twitter Account" target="_blank"><img src="/assets/images/TwitterIcon.png" alt="Twitter Account" class="SocialMediaIcon"></a>
            <a href="https://www.github.com/TheGrimsey" title="Github Account" target="_blank"><img src="/assets/images/GithubIcon.png" alt="Github Account" class="SocialMediaIcon"></a>
    </p>
    Created by TheGrimsey using Jekyll.<br>
</div>
</body>

</html>